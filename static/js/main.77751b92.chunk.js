(this["webpackJsonp06-admin.bike-booking.com"]=this["webpackJsonp06-admin.bike-booking.com"]||[]).push([[0],{17:function(e,t,n){e.exports={"input-wrapper":"Input_input-wrapper__3ozAx","input-error":"Input_input-error__1jloL"}},18:function(e,t,n){e.exports={"buttons-wrapper":"BicycleAdd_buttons-wrapper__1-Xq6"}},26:function(e,t,n){},27:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(13),a=n.n(r),i=(n(26),n(27),n(1)),s=function(e){return Object(i.jsx)("div",{className:"header",children:Object(i.jsx)("p",{children:e.headerText})})},l=function(e){return Object(i.jsx)("div",{className:"footer",children:Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{children:"Developer: "}),e.developerName]})})},u=n(3),o=n(9),d=n(7),b=n(17),j=n.n(b),p=function(e){var t=e.meta.error&&e.meta.touched?j.a.inputError:null,n=Object(u.a)(Object(u.a)({type:e.type,placeholder:e.placeholder,step:e.step},e.input),{},{className:t}),c=null,r=Object(i.jsx)("input",Object(u.a)({},n));return"textarea"===n.type&&(c={width:"97%"},r=Object(i.jsx)("textarea",Object(u.a)({},n))),Object(i.jsxs)("div",{className:j.a["input-wrapper"],style:c,children:[r,e.meta.error&&e.meta.touched&&Object(i.jsx)("span",{children:e.meta.error})]})};function h(e){return(null===e||void 0===e?void 0:e.length)<5?"Minimum length is 5 characters":void 0}function x(e){return e&&""!==e?void 0:"Field is required"}function f(e){return function(t){return e.includes(t)?"This ID already settled":void 0}}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}}var O=n(18),m=n.n(O),y=n(8),N=n(4),g=n.n(N),w=n(6),A="ADD_NEW_BICYCLE",k="DELETE_BICYCLE_ENTRY",C="CHANGE_BICYCLE_STATUS",E="SET_BICYCLE_ARRAY_FROM_SERVER";function B(e){return{type:E,payload:e}}var I=Object(y.b)((function(e){return{bicycles:e.bicycles}}),(function(e){return{addBicycleAction:function(t){return e(function(e){return function(){var t=Object(w.a)(g.a.mark((function t(n,c,r){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.post(e);case 3:n({type:A,payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert(t.t0.text);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n,c){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){var t;a(null===(t=e.bicycles)||void 0===t?void 0:t.map((function(e){return e.id})))}),[e.bicycles]),Object(i.jsx)("div",{className:"bicycle-add",children:Object(i.jsx)(d.b,{onSubmit:function(t){t.price=Math.floor(100*+t.price)/100,e.addBicycleAction(Object(u.a)(Object(u.a)({},t),{},{status:"Unavailable"}))},render:function(e){var t=e.handleSubmit,n=e.invalid,c=e.submitting,a=e.form;return Object(i.jsxs)("form",{onSubmit:function(e){t(e),a.restart()},children:[Object(i.jsxs)("div",{children:[Object(i.jsx)(d.a,{name:"name",type:"text",placeholder:"Name",validate:v(x,h),component:p}),Object(i.jsx)(d.a,{name:"type",type:"text",placeholder:"Type",validate:v(x,h),component:p})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)(d.a,{name:"color",type:"text",placeholder:"Color",validate:v(x,h),component:p}),Object(i.jsx)(d.a,{name:"wheelSize",type:"number",step:"0.01",placeholder:"Wheel size",validate:x,component:p})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)(d.a,{name:"price",type:"number",step:"0.01",placeholder:"Price",validate:x,component:p}),Object(i.jsx)(d.a,{name:"id",type:"number",step:"1",placeholder:"ID (slug): XXXXXXXXXXXXXX",validate:v(x,f(r)),component:p})]}),Object(i.jsx)(d.a,{name:"description",type:"textarea",placeholder:"Description",validate:v(x,h),component:p}),Object(i.jsx)("div",{className:m.a["buttons-wrapper"],children:Object(i.jsx)("button",{type:"submit",disabled:c||n,children:"SAVE"})}),Object(i.jsx)("div",{className:m.a["buttons-wrapper"],children:Object(i.jsx)("button",{type:"button",onClick:function(){return a.restart()},disabled:c,children:"CLEAR"})})]})}})})})),S=(n(36),Object(y.b)(null,(function(e){return{deleteBicycleEntryAction:function(t){return e(function(e){return function(){var t=Object(w.a)(g.a.mark((function t(n,c,r){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.delete(e);case 3:n({type:k,payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert(t.t0.text);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n,c){return t.apply(this,arguments)}}()}(t))},changeBicycleStatusAction:function(t,n){return e(function(e,t){return function(){var n=Object(w.a)(g.a.mark((function n(c,r,a){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.patch(e,t);case 3:c({type:C,payload:{status:e,id:t}}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),alert(n.t0.text);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e,t,c){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t,n,c=Object(u.a)({},e),r=c.name,a=c.type,s=c.id,l=c.color,o=c.status,b=c.price;return r=r.toUpperCase(),a=a.toUpperCase(),l=l.toUpperCase(),"Unavailable"===o&&(t={borderColor:"#F5ABAB",backgroundColor:"#F3F3F3"},n={backgroundColor:"inherit",color:"#797979"}),"Busy"===o&&(t={borderColor:"#F2994A"}),Object(i.jsx)("div",{style:t,className:"form-wrapper",children:Object(i.jsx)(d.b,{onSubmit:function(){e.deleteBicycleEntryAction(s)},render:function(e){var t=e.handleSubmit;return Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsxs)("div",{style:n,className:"row-div",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{className:"semi-header-text",children:r})," - ",Object(i.jsx)("label",{className:"main-text",children:a})," ","(",Object(i.jsx)("label",{className:"main-text",children:l}),")"]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{style:n,type:"submit",children:"X"})})]}),Object(i.jsx)("div",{className:"row-div",children:Object(i.jsx)("label",{className:"small-text",children:s})}),Object(i.jsxs)("div",{className:"row-div",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{htmlFor:"status",className:"main-text",children:"STATUS: "}),Object(i.jsxs)("select",{style:{backgroundColor:"inherit"},onChange:j,defaultValue:o,name:"status",id:"status",children:[Object(i.jsx)("option",{value:"Available",children:"Available"}),Object(i.jsx)("option",{value:"Unavailable",children:"Unavailable"}),Object(i.jsx)("option",{value:"Busy",children:"Busy"})]})]}),Object(i.jsx)("div",{children:Object(i.jsx)("label",{className:"price-text",children:"".concat(b," UAH/hr.")})})]})]})}})});function j(t){var n=t.currentTarget.value;e.changeBicycleStatusAction(n,s)}}))),_="INITIALIZE_WINDOW_AFTER_FETCHING";var T=Object(y.b)((function(e){return{bicycles:e.bicycles,initialized:e.initialized.initialized}}),(function(e){return{initializationAction:function(){return e(function(){var e=Object(w.a)(g.a.mark((function e(t,n,c){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.get();case 3:r=e.sent,t(B(r)),t({type:_}),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),alert(e.t0),e.abrupt("return",e.t0.text);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,c){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.initialized,n=e.bicycles,r=[];return Object(c.useEffect)((function(){e.initializationAction()}),[]),n.length>0?(n.sort((function(e,t){return e.status.localeCompare(t.status)})),r=n.map((function(e){return Object(i.jsx)(S,Object(u.a)({},e),e.id)}))):r=Object(i.jsx)("span",{className:"semi-header-text",children:t?"Please make at least one entry":"Fetching data..."}),Object(i.jsx)("div",{className:"bicycle-list",children:r})})),z=(n(37),Object(y.b)((function(e){return{bicycles:e.bicycles}}))((function(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],a=n[1];Object(c.useEffect)((function(){a(e.bicycles.filter((function(e){return"Available"===e.status})))}),[e.bicycles]);var s=Object(c.useState)([]),l=Object(o.a)(s,2),u=l[0],d=l[1];Object(c.useEffect)((function(){d(e.bicycles.filter((function(e){return"Busy"===e.status})))}),[e.bicycles]);var b=Object(c.useState)(0),j=Object(o.a)(b,2),p=j[0],h=j[1];Object(c.useEffect)((function(){var t;h(null===(t=e.bicycles)||void 0===t?void 0:t.reduce((function(e,t){return e+ +t.price}),0))}),[e.bicycles]);var x=e.bicycles.length,f=null===r||void 0===r?void 0:r.length,v=null===u||void 0===u?void 0:u.length,O=p/x;return Object(i.jsxs)("div",{className:"bicycle-statistics",children:[Object(i.jsx)("div",{className:"statistics-header-text",children:"STATISTICS"}),Object(i.jsxs)("div",{className:"regular-text",children:[Object(i.jsx)("span",{children:"Total Bikes: "}),Object(i.jsx)("span",{className:"emphasized-text",children:null!==x&&void 0!==x?x:0})]}),Object(i.jsxs)("div",{className:"regular-text",children:[Object(i.jsx)("span",{children:"Available Bikes: "}),Object(i.jsx)("span",{className:"emphasized-text",children:null!==f&&void 0!==f?f:0})]}),Object(i.jsxs)("div",{className:"regular-text",children:[Object(i.jsx)("span",{children:"Booked Bikes: "}),Object(i.jsx)("span",{className:"emphasized-text",children:null!==v&&void 0!==v?v:0})]}),Object(i.jsxs)("div",{className:"regular-text",children:[Object(i.jsx)("span",{children:"Average Bike Cost: "}),Object(i.jsx)("span",{className:"emphasized-text",children:!O||isNaN(O)?0:Math.ceil(100*O)/100}),Object(i.jsx)("span",{children:" UAH/hr."})]})]})})));var X=function(){return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)(s,{headerText:"ADMIN.BIKE-BOOKING.COM"}),Object(i.jsx)(T,{}),Object(i.jsx)(I,{}),Object(i.jsx)(z,{}),Object(i.jsx)(l,{developerName:"Nikolaj Lebed"})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},L=n(11),U=n(15),D=[];var R={initialized:!1};var M=Object(L.b)({bicycles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return[].concat(Object(U.a)(e),[Object(u.a)({},t.payload)]);case k:return Object(U.a)(e.filter((function(e){return+e.id!==+t.payload})));case C:return e.map((function(e){return+e.id===+t.payload.id?Object(u.a)(Object(u.a)({},e),{},{status:t.payload.status}):e}));case E:return t.payload?Object(U.a)(t.payload):[];default:return e}},initialized:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(u.a)(Object(u.a)({},e),{},{initialized:!0});default:return e}}}),Y=n(21),H=n(12),P={get:function(){var e=Object(w.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.getItem("bicycles");case 2:return(t=e.sent)||(t=[]),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),post:function(){var e=Object(w.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get();case 2:return(n=e.sent).push(t),e.next=6,H.setItem("bicycles",n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),patch:function(){var e=Object(w.a)(g.a.mark((function e(t,n){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get();case 2:return c=(c=e.sent).map((function(e){return+e.id===+n?Object(u.a)(Object(u.a)({},e),{},{status:t}):e})),e.next=6,H.setItem("bicycles",c);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(w.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get();case 2:return n=(n=e.sent).filter((function(e){return+e.id!==+t})),e.next=6,H.setItem("bicycles",n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},W=Object(L.c)(M,Object(L.a)(Y.a.withExtraArgument(P)));a.a.render(Object(i.jsx)(y.a,{store:W,children:Object(i.jsx)(X,{})}),document.getElementById("root")),F()}},[[39,1,2]]]);
//# sourceMappingURL=main.77751b92.chunk.js.map