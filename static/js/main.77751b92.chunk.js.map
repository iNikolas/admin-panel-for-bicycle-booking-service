{"version":3,"sources":["components/Fields/Input/Input.module.css","components/BicycleAdd/BicycleAdd.module.css","components/Header/Header.jsx","components/Footer/Footer.jsx","components/Fields/Input/Input.jsx","components/Fields/validators/validators.js","actions/bicyclesActions.js","components/BicycleAdd/BicycleAdd.jsx","components/BicycleList/BicycleElement/BicycleElement.jsx","actions/BicycleListActions.js","components/BicycleList/BicycleList.jsx","components/BicycleStatistics/BicycleStatistics.jsx","App.js","reportWebVitals.js","reducers/bicycles.js","reducers/listInitialization.js","reducers/index.js","API/localForage.js","store/configureStore.js","index.js"],"names":["module","exports","Header","props","className","headerText","Footer","developerName","Input","inputError","meta","error","touched","css","data","type","placeholder","step","input","style","element","width","minimumLength","value","length","undefined","fieldIsRequired","availableIdCheck","bicyclesIdList","includes","composeValidators","validators","reduce","validator","ADD_NEW_BICYCLE","DELETE_BICYCLE_ENTRY","CHANGE_BICYCLE_STATUS","SET_BICYCLE_ARRAY_FROM_SERVER","setBicycleArrayFromServer","bicycles","payload","connect","store","dispatch","addBicycleAction","bicycleInfo","getState","api","a","post","alert","text","addBicycle","useState","setBicycleList","useEffect","map","bicycle","id","onSubmit","event","price","Math","floor","status","render","handleSubmit","invalid","submitting","form","restart","name","validate","component","disabled","onClick","deleteBicycleEntryAction","bicycleId","delete","deleteBicycleEntry","changeBicycleStatusAction","patch","changeBicycleStatus","formWrapperStyle","colorsStyle","color","toUpperCase","borderColor","backgroundColor","htmlFor","onChange","onSelect","defaultValue","currentTarget","INITIALIZE_WINDOW_AFTER_FETCHING","initialized","initializationAction","get","bicyclesElements","sort","b","localeCompare","availableBikesArr","setAvailableBikesArr","filter","bookedBikesArr","setBookedBikesArr","totalBikesPrice","setTotalBikesPrice","total","totalBikes","availableBikes","bookedBikes","averageBikeCost","isNaN","ceil","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","rootReducer","combineReducers","state","action","entry","storageAPI","localforage","bicycleList","this","push","createStore","applyMiddleware","thunk","withExtraArgument","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.77751b92.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"input-wrapper\":\"Input_input-wrapper__3ozAx\",\"input-error\":\"Input_input-error__1jloL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttons-wrapper\":\"BicycleAdd_buttons-wrapper__1-Xq6\"};","import React from 'react'\r\n\r\nconst Header = (props) => {\r\n    return <div className='header'><p>{props.headerText}</p></div>\r\n}\r\n\r\nexport default Header","import React from \"react\";\r\n\r\nconst Footer = (props) => {\r\n    return <div className='footer'><p><span>Developer: </span>{props.developerName}</p></div>\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\nimport css from './Input.module.css'\r\n\r\nconst Input = (props) => {\r\n    const inputError = (props.meta.error && props.meta.touched) ? css.inputError : null\r\n\r\n    const data = {\r\n        type: props.type,\r\n        placeholder: props.placeholder,\r\n        step: props.step,\r\n        ...props.input,\r\n\r\n        className: inputError\r\n    }\r\n\r\n\r\n    let style = null\r\n    let element = <input {...data} />\r\n\r\n    if (data.type === 'textarea') {\r\n        style = {\r\n            width: '97%'\r\n        }\r\n        element = <textarea {...data} />\r\n    }\r\n\r\n    return <div className={css['input-wrapper']} style={style}>\r\n        {element}\r\n        {props.meta.error && props.meta.touched && <span>{props.meta.error}</span>}\r\n    </div>\r\n}\r\n\r\nexport default Input","export function minimumLength(value) {\r\n    return (value?.length < 5) ? 'Minimum length is 5 characters' : undefined\r\n}\r\n\r\nexport function fieldIsRequired(value) {\r\n    return (!value || value === '') ? 'Field is required' : undefined\r\n}\r\n\r\nexport function availableIdCheck(bicyclesIdList) {\r\n    return function (value) {\r\n        return (bicyclesIdList.includes(value)) ? 'This ID already settled' : undefined\r\n    }\r\n}\r\n\r\n\r\nexport function composeValidators(...validators) {\r\n    return function (value) {\r\n        return validators.reduce((error, validator) => error || validator(value), undefined)\r\n    }\r\n}","export const ADD_NEW_BICYCLE = 'ADD_NEW_BICYCLE'\r\nexport const DELETE_BICYCLE_ENTRY = 'DELETE_BICYCLE_ENTRY'\r\nexport const CHANGE_BICYCLE_STATUS = 'CHANGE_BICYCLE_STATUS'\r\nexport const SET_BICYCLE_ARRAY_FROM_SERVER = 'SET_BICYCLE_ARRAY_FROM_SERVER'\r\n\r\nexport function addBicycle(bicycleInfo) {\r\n    return async (dispatch, getState, api) => {\r\n        try {\r\n            await api.post(bicycleInfo)\r\n            dispatch({\r\n                type: ADD_NEW_BICYCLE,\r\n                payload: bicycleInfo\r\n            })\r\n        } catch (err) {\r\n            alert(err.text)\r\n        }\r\n    }\r\n}\r\n\r\nexport function deleteBicycleEntry(bicycleId) {\r\n    return async (dispatch, getState, api) => {\r\n        try {\r\n            await api.delete(bicycleId)\r\n            dispatch({\r\n                type: DELETE_BICYCLE_ENTRY,\r\n                payload: bicycleId\r\n            })\r\n        } catch (err) {\r\n            alert(err.text)\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport function changeBicycleStatus(status, id) {\r\n    return async (dispatch, getState, api) => {\r\n        try {\r\n            await api.patch(status, id)\r\n            dispatch({\r\n                type: CHANGE_BICYCLE_STATUS,\r\n                payload: {status, id}\r\n            })\r\n        } catch (err) {\r\n            alert(err.text)\r\n        }\r\n    }\r\n}\r\n\r\nexport function setBicycleArrayFromServer(bicycles) {\r\n    return {\r\n        type: SET_BICYCLE_ARRAY_FROM_SERVER,\r\n        payload: bicycles\r\n    }\r\n}","import React, {useEffect, useState} from 'react'\r\nimport {Form, Field} from 'react-final-form'\r\nimport Input from \"../Fields/Input/Input\"\r\nimport {minimumLength, fieldIsRequired, composeValidators, availableIdCheck} from \"../Fields/validators/validators\"\r\nimport css from './BicycleAdd.module.css'\r\nimport {connect} from 'react-redux'\r\nimport {addBicycle} from '../../actions/bicyclesActions'\r\n\r\nconst BicycleAdd = (props) => {\r\n    const [bicyclesIdList, setBicycleList] = useState([])\r\n\r\n    useEffect(() => {\r\n        setBicycleList(props.bicycles?.map(bicycle => bicycle.id))\r\n    }, [props.bicycles])\r\n\r\n\r\n    return (<div className='bicycle-add'>\r\n        <Form onSubmit={onSubmit}\r\n              render={\r\n                  ({handleSubmit, invalid, submitting, form}) => {\r\n                      return <form onSubmit={(event) => {\r\n                          handleSubmit(event)\r\n                          form.restart()\r\n                      }}\r\n                      >\r\n\r\n                          <div>\r\n                              <Field\r\n                                  name='name'\r\n                                  type='text'\r\n                                  placeholder='Name'\r\n                                  validate={composeValidators(fieldIsRequired, minimumLength)}\r\n                                  component={Input}\r\n                              />\r\n                              <Field\r\n                                  name='type'\r\n                                  type='text'\r\n                                  placeholder='Type'\r\n                                  validate={composeValidators(fieldIsRequired, minimumLength)}\r\n                                  component={Input}\r\n                              />\r\n                          </div>\r\n\r\n                          <div>\r\n                              <Field\r\n                                  name='color'\r\n                                  type='text'\r\n                                  placeholder='Color'\r\n                                  validate={composeValidators(fieldIsRequired, minimumLength)}\r\n                                  component={Input}\r\n                              />\r\n                              <Field\r\n                                  name='wheelSize'\r\n                                  type='number'\r\n                                  step='0.01'\r\n                                  placeholder='Wheel size'\r\n                                  validate={fieldIsRequired}\r\n                                  component={Input}\r\n                              />\r\n                          </div>\r\n\r\n                          <div>\r\n                              <Field\r\n                                  name='price'\r\n                                  type='number'\r\n                                  step='0.01'\r\n                                  placeholder='Price'\r\n                                  validate={fieldIsRequired}\r\n                                  component={Input}\r\n                              />\r\n                              <Field\r\n                                  name='id'\r\n                                  type='number'\r\n                                  step='1'\r\n                                  placeholder='ID (slug): XXXXXXXXXXXXXX'\r\n                                  validate={composeValidators(fieldIsRequired, availableIdCheck(bicyclesIdList))}\r\n                                  component={Input}\r\n                              />\r\n                          </div>\r\n                          <Field\r\n                              name='description'\r\n                              type='textarea'\r\n                              placeholder='Description'\r\n                              validate={composeValidators(fieldIsRequired, minimumLength)}\r\n                              component={Input}\r\n                          />\r\n                          <div className={css['buttons-wrapper']}>\r\n                              <button type='submit'\r\n                                      disabled={submitting || invalid}\r\n                              >SAVE\r\n                              </button>\r\n                          </div>\r\n                          <div className={css['buttons-wrapper']}>\r\n                              <button type='button'\r\n                                      onClick={() => form.restart()}\r\n                                      disabled={submitting}\r\n                              >CLEAR\r\n                              </button>\r\n                          </div>\r\n                      </form>\r\n                  }\r\n              }\r\n\r\n        />\r\n    </div>)\r\n\r\n    function onSubmit(event) {\r\n        event.price = Math.floor(+event.price * 100) / 100\r\n        props.addBicycleAction({\r\n            ...event,\r\n            status: 'Unavailable'\r\n        })\r\n    }\r\n}\r\n\r\nconst mapStateToProps = store => ({\r\n    bicycles: store.bicycles\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    addBicycleAction: bicycleInfo => dispatch(addBicycle(bicycleInfo))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BicycleAdd)","import React from 'react'\r\nimport {Form} from 'react-final-form'\r\nimport {changeBicycleStatus, deleteBicycleEntry} from \"../../../actions/bicyclesActions\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst BicycleElement = (props) => {\r\n    let {name, type, id, color, status, price} = {...props}\r\n    name = name.toUpperCase()\r\n    type = type.toUpperCase()\r\n    color = color.toUpperCase()\r\n\r\n    let formWrapperStyle, colorsStyle\r\n\r\n\r\n    if (status === 'Unavailable') {\r\n        formWrapperStyle = {\r\n            borderColor: '#F5ABAB',\r\n            backgroundColor: '#F3F3F3'\r\n        }\r\n\r\n        colorsStyle = {\r\n            backgroundColor: 'inherit',\r\n            color: '#797979'\r\n        }\r\n    }\r\n\r\n    if (status === 'Busy') {\r\n        formWrapperStyle = {\r\n            borderColor: '#F2994A',\r\n        }\r\n    }\r\n\r\n\r\n    return <div style={formWrapperStyle} className='form-wrapper'>\r\n            <Form onSubmit={onSubmit}\r\n                  render={({handleSubmit}) => {\r\n                      return <form onSubmit={handleSubmit}>\r\n                          <div style={colorsStyle} className='row-div'>\r\n                              <div>\r\n                                  <label className='semi-header-text'>{name}</label>\r\n                                  {' - '}\r\n                                  <label className='main-text'>{type}</label>\r\n                                  {' '}\r\n                                  (<label className='main-text'>{color}</label>)\r\n                              </div>\r\n                              <div>\r\n                                  <button style={colorsStyle} type='submit'>X</button>\r\n                              </div>\r\n                          </div>\r\n                          <div className='row-div'>\r\n                              <label className='small-text'>{id}</label>\r\n                          </div>\r\n                          <div className='row-div'>\r\n                              <div>\r\n                                  <label htmlFor='status' className='main-text'>{'STATUS: '}</label>\r\n                                  <select style={{backgroundColor: 'inherit'}} onChange={onSelect} defaultValue={status}\r\n                                          name='status' id='status'>\r\n                                      <option value='Available'>Available</option>\r\n                                      <option value='Unavailable'>Unavailable</option>\r\n                                      <option value='Busy'>Busy</option>\r\n                                  </select>\r\n                              </div>\r\n                              <div>\r\n                                  <label className='price-text'>{`${price} UAH/hr.`}</label>\r\n                              </div>\r\n                          </div>\r\n                      </form>\r\n                  }}/>\r\n    </div>\r\n\r\n    function onSubmit() {\r\n        props.deleteBicycleEntryAction(id)\r\n    }\r\n\r\n    function onSelect(event) {\r\n        const status = event.currentTarget.value\r\n        props.changeBicycleStatusAction(status, id)\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    deleteBicycleEntryAction: bicycleId => dispatch(deleteBicycleEntry(bicycleId)),\r\n    changeBicycleStatusAction: (status, id) => dispatch(changeBicycleStatus(status, id))\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(BicycleElement)","import {setBicycleArrayFromServer} from \"./bicyclesActions\";\r\n\r\nexport const INITIALIZE_WINDOW_AFTER_FETCHING = 'INITIALIZE_WINDOW_AFTER_FETCHING'\r\n\r\nexport function initialize() {\r\n    return {\r\n        type: INITIALIZE_WINDOW_AFTER_FETCHING\r\n    }\r\n}\r\n\r\nexport function initialization() {\r\n    return async (dispatch, getState, api) => {\r\n        try {\r\n            const bicycles = await api.get()\r\n            dispatch(setBicycleArrayFromServer(bicycles))\r\n            dispatch(initialize())\r\n        } catch (err) {\r\n            alert(err)\r\n            return err.text\r\n        }\r\n    }\r\n}","import React, { useEffect } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport './BicycleList.css'\r\nimport BicycleElement from './BicycleElement/BicycleElement'\r\nimport { initialization } from '../../actions/BicycleListActions'\r\n\r\nconst BicycleList = (props) => {\r\n    const initialized = props.initialized\r\n    const bicycles = props.bicycles\r\n    let bicyclesElements = []\r\n\r\n    useEffect(() => {\r\n        props.initializationAction()\r\n    }, [])\r\n\r\n\r\n    if (bicycles.length > 0) {\r\n        bicycles.sort((a, b) => a.status.localeCompare(b.status))\r\n        bicyclesElements = bicycles.map(bicycle => {\r\n            return <BicycleElement key={bicycle.id} {...bicycle}/>\r\n        })\r\n    } else {\r\n        bicyclesElements = <span\r\n            className='semi-header-text'>{initialized ? 'Please make at least one entry' : 'Fetching data...'}</span>\r\n    }\r\n\r\n    return <div className='bicycle-list'>\r\n        {bicyclesElements}\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = store => ({\r\n    bicycles: store.bicycles,\r\n    initialized: store.initialized.initialized\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    initializationAction: () => dispatch(initialization())\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BicycleList)","import React, { useEffect, useState } from 'react'\r\nimport './BicycleStatistics.css'\r\nimport {connect} from \"react-redux\";\r\n\r\nconst BicycleStatistics = (props) => {\r\n\r\n\r\n    const [availableBikesArr, setAvailableBikesArr] = useState([])\r\n    useEffect(() => {\r\n        setAvailableBikesArr(\r\n            props.bicycles.filter((bicycle) => bicycle.status === 'Available' )\r\n        )\r\n    }, [props.bicycles])\r\n\r\n    const [bookedBikesArr, setBookedBikesArr] = useState([])\r\n    useEffect(() => {\r\n        setBookedBikesArr(\r\n            props.bicycles.filter((bicycle) => bicycle.status === 'Busy' )\r\n        )\r\n    }, [props.bicycles])\r\n\r\n    const [totalBikesPrice, setTotalBikesPrice] = useState(0)\r\n    useEffect(() => {\r\n        setTotalBikesPrice(\r\n            props.bicycles?.reduce((total, bicycle) => total += +bicycle.price, 0)\r\n        )\r\n    }, [props.bicycles])\r\n\r\n    const totalBikes = props.bicycles.length\r\n    const availableBikes = availableBikesArr?.length\r\n    const bookedBikes = bookedBikesArr?.length\r\n    const averageBikeCost = totalBikesPrice / totalBikes\r\n\r\n    return <div className='bicycle-statistics'>\r\n        <div className='statistics-header-text'>STATISTICS</div>\r\n        <div className='regular-text'><span>{'Total Bikes: '}</span><span\r\n            className='emphasized-text'>{totalBikes ?? 0}</span></div>\r\n\r\n        <div className='regular-text'><span>{'Available Bikes: '}</span><span\r\n            className='emphasized-text'>{availableBikes  ?? 0}</span></div>\r\n\r\n        <div className='regular-text'><span>{'Booked Bikes: '}</span><span\r\n            className='emphasized-text'>{bookedBikes  ?? 0}</span></div>\r\n\r\n        <div className='regular-text'><span>{'Average Bike Cost: '}</span><span\r\n            className='emphasized-text'>{(!averageBikeCost || isNaN(averageBikeCost)) ? 0 : Math.ceil(averageBikeCost * 100) / 100}</span><span>{' UAH/hr.'}</span></div>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = store => ({\r\n    bicycles: store.bicycles\r\n})\r\n\r\nexport default connect(mapStateToProps)(BicycleStatistics)","import React from 'react'\nimport './App.css'\nimport Header from \"./components/Header/Header\";\nimport Footer from \"./components/Footer/Footer\";\nimport BicycleAdd from \"./components/BicycleAdd/BicycleAdd\";\nimport BicycleList from \"./components/BicycleList/BicycleList\";\nimport BicycleStatistics from \"./components/BicycleStatistics/BicycleStatistics\";\n\nfunction App() {\n    return (\n        <div className='container'>\n            <Header headerText='ADMIN.BIKE-BOOKING.COM'/>\n            <BicycleList />\n            <BicycleAdd />\n            <BicycleStatistics />\n            <Footer developerName='Nikolaj Lebed'/>\n        </div>\n    )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\r\n    ADD_NEW_BICYCLE,\r\n    CHANGE_BICYCLE_STATUS,\r\n    DELETE_BICYCLE_ENTRY,\r\n    SET_BICYCLE_ARRAY_FROM_SERVER\r\n} from '../actions/bicyclesActions'\r\n\r\nconst initialState = [\r\n\r\n]\r\n\r\nexport function bicyclesReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case ADD_NEW_BICYCLE: {\r\n            return [\r\n                ...state,\r\n                {\r\n                    ...action.payload\r\n                }]\r\n        }\r\n        case DELETE_BICYCLE_ENTRY: {\r\n            return [\r\n                ...state.filter((entry) => +entry.id !== +action.payload)\r\n            ]\r\n        }\r\n        case CHANGE_BICYCLE_STATUS: {\r\n            return state.map(bicycle => (+bicycle.id === +action.payload.id) ? {\r\n                ...bicycle,\r\n                status: action.payload.status\r\n            } : bicycle)\r\n        }\r\n        case SET_BICYCLE_ARRAY_FROM_SERVER:\r\n            if (!action.payload) return []\r\n            return [\r\n                ...action.payload\r\n            ]\r\n        default:\r\n            return state\r\n    }\r\n}","import {INITIALIZE_WINDOW_AFTER_FETCHING} from \"../actions/BicycleListActions\";\r\n\r\nconst initialState = {\r\n    initialized: false\r\n}\r\n\r\nexport function listInitializationReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case INITIALIZE_WINDOW_AFTER_FETCHING: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}","import { combineReducers } from 'redux'\r\nimport { bicyclesReducer } from './bicycles'\r\nimport {listInitializationReducer} from './listInitialization'\r\n\r\nexport const rootReducer = combineReducers({\r\n    bicycles: bicyclesReducer,\r\n    initialized: listInitializationReducer\r\n})","import * as localforage from \"localforage\";\r\n\r\nconst storageAPI = {\r\n    get: async function () {\r\n        let bicycleList = await localforage.getItem('bicycles')\r\n        if (!bicycleList) bicycleList = []\r\n        return bicycleList\r\n    },\r\n    post: async function (bicycle) {\r\n        let bicycleList = await this.get()\r\n        bicycleList.push(bicycle)\r\n        return await localforage.setItem('bicycles', bicycleList)\r\n    },\r\n    patch: async function (status, id) {\r\n        let bicycleList = await this.get()\r\n        bicycleList = bicycleList.map(bicycle => (+bicycle.id === +id) ? {\r\n            ...bicycle,\r\n            status: status\r\n        } : bicycle)\r\n        return await localforage.setItem('bicycles', bicycleList)\r\n    },\r\n    delete: async function (bicycleId) {\r\n        let bicycleList = await this.get()\r\n        bicycleList = bicycleList.filter((entry) => +entry.id !== +bicycleId)\r\n        return await localforage.setItem('bicycles', bicycleList)\r\n    }\r\n}\r\n\r\nexport default storageAPI","import {applyMiddleware, createStore} from 'redux'\r\nimport { rootReducer } from '../reducers'\r\nimport thunk from \"redux-thunk\";\r\nimport storageAPI from \"../API/localForage\";\r\n\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk.withExtraArgument(storageAPI)))\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport { Provider } from 'react-redux'\nimport {store} from \"./store/configureStore\"\n\nReactDOM.render(\n    <Provider store={store}>\n    <App />\n    </Provider>,\n  document.getElementById('root')\n)\n\n\nreportWebVitals();\n"],"sourceRoot":""}